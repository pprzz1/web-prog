(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1453:function(t,e,i){"use strict";var n=i(21),r=i.n(n);e.a={methods:{prepareImageUrl:function(t){return r()(t)?t&&-1===t.indexOf("//")?"//".concat(t):t:""}}}},1756:function(t,e,i){"use strict";var n=i(21),r=i.n(n);e.a={methods:{getPublicationType:function(t){var e=this.$secureGetField(t,"type","");return r()(e)&&e.trim().length?e.toUpperCase():""},checkPublicationTitleDisplaying:function(t){var e=this.$secureGetField(t,"title","");return r()(e)&&e.trim().length},checkPublicationAnnouncementDisplaying:function(t){var e=this.$secureGetField(t,"announcement","");return r()(e)&&e.trim().length},checkPublicationContentDisplaying:function(t){var e=this.$secureGetField(t,"body","");return r()(e)&&e.trim().length}}}},1961:function(t,e,i){"use strict";var n=i(16),r=i.n(n),s=i(3),a=i(21),o=i.n(a),u=i(1453),c=i(1756),l=i(1),p=i(0),m=i.n(p),f=i(668),d=i.n(f),h=i(2735),g=i.n(h),y=i(59),b=i.n(y);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach((function(e){I(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function I(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var C={name:"o-news-item",mixins:[u.a,c.a],props:{item:{type:Object,required:!0},isBig:{type:Boolean,default:!1}},computed:{itemTypeText:function(){var t;if(null!==(t=this.item.type)&&void 0!==t&&t.name)return this.item.type.name;var e=this.getPublicationType(this.item);return e===d.a.NEWS?this.$m("newsItem.types.news","News"):e===d.a.PROMOTION?this.$m("newsItem.types.action","Action"):""},itemId:function(){return this.item.id},detailUrl:function(){return this.item.link?this.item.link:this.itemId&&o()(this.itemId)?"/news/".concat(this.itemId):"javascript:void(0);"},imageSRC:function(){var t=this.item.image||"",e=this.item.images||[],i=this.isBig?e.find((function(t){return t.label===g.a.MAIN_PUBLICATIONS})):e.find((function(t){return t.label===g.a.NEWS_PUBLICATIONS})),n=(null==i?void 0:i.image)||t;return this.prepareImageUrl(n)},hasImage:function(){return!!this.imageSRC.length},imageClass:function(){return{"news-item__image-empty":!this.hasImage}},background:function(){return this.hasImage?{backgroundImage:"url(".concat(this.imageSRC,"), url(").concat(b.a,")")}:{backgroundColor:"#777777",backgroundImage:"url(".concat(b.a,")")}},itemClass:function(){return{"news-item-big":this.isBig}},isShowDescription:function(){return!this.isMobile&&this.checkPublicationAnnouncementDisplaying(this.item)}},methods:O(O({},Object(s.b)("v3",[l.a.EMIT_PAGE_EVENT])),{},{detailUrlClickHandler:function(){var t=this;this[l.a.EMIT_PAGE_EVENT]({type:m.a.WELCOME_NEWS_ENTRY_CLICK,payload:{id:this.itemId,callback:function(){return t.$urlService.goTo(t.detailUrl)}}})}})},w=(i(2736),i(2737),i(2));function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){S(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function S(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var E={name:"o-news-list",components:{oNewsItem:Object(w.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"news-item",class:t.itemClass},[e("a",{staticClass:"news-item__image-link",attrs:{href:t.detailUrl},on:{click:function(e){return e.preventDefault(),t.detailUrlClickHandler.apply(null,arguments)}}},[e("div",{staticClass:"news-item__image",class:t.imageClass,style:t.background})]),t._v(" "),t.isBig?t._e():e("div",{staticClass:"news-item__content"},[t.itemTypeText?e("div",{staticClass:"news-item__type"},[t._v("\n      "+t._s(t.itemTypeText)+"\n    ")]):t._e(),t._v(" "),t.checkPublicationTitleDisplaying(t.item)?e("div",{staticClass:"news-item__name"},[e("a",{staticClass:"news-item__name-link",attrs:{href:t.detailUrl},on:{click:function(e){return e.preventDefault(),t.detailUrlClickHandler.apply(null,arguments)}}},[t._v(t._s(t.item.title))])]):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDescription,expression:"isShowDescription"}],staticClass:"news-item__description",domProps:{innerHTML:t._s(t.item.announcement)}})])])}),[],!1,null,null,null).exports},props:{displayOptions:{type:Object,default:function(){return{}}},type:{type:String,default:"all"},dateRange:{type:Object,default:null},page:{type:[String,Number],default:1}},computed:T(T({},Object(s.c)(["userCity","publicationsContent","publicationsTotal","publicationsAppliedFilters"])),{},{publicationsType:function(){return this.publicationsAppliedFilters.type},publicationsDateRange:function(){return{dateFrom:this.publicationsAppliedFilters.dateFrom,dateTo:this.publicationsAppliedFilters.dateTo}},items:function(){return this.publicationsContent.slice(this.minCurPageIndex,this.maxCurPageIndex+1).map((function(t){return t||{}}))},isFirstPage:function(){return 1===this.page},curDisplayOptions:function(){return this.displayOptions[this.deviceType]},bigItemsIndexes:function(){return this.isFirstPage?this.curDisplayOptions.bigItemsIndexes:[]},itemsOnFirstPage:function(){return this.curDisplayOptions.itemsOnFirstPage},itemsOnPage:function(){return this.curDisplayOptions.itemsOnPage},minCurPageIndex:function(){var t=this.curDisplayOptions.itemsOnFirstPage,e=this.curDisplayOptions.itemsOnPage;return this.isFirstPage?0:t+e*(this.page-2)},maxCurPageIndex:function(){return this.curDisplayOptions.itemsOnFirstPage+this.curDisplayOptions.itemsOnPage*(this.page-1)-1},minCurPageEmptyIndex:function(){for(var t=-1,e=this.minCurPageIndex;e<=this.maxCurPageIndex;e++)if(!this.publicationsContent[e]){t=e;break}return t},maxCurPageEmptyIndex:function(){var t=-1;if(void 0===this.minCurPageEmptyIndex||-1===this.minCurPageEmptyIndex)return t;for(var e=this.minCurPageEmptyIndex;e<=this.maxCurPageIndex;e++)this.publicationsContent[e]||(t=e);return t},updateItemsRelations:function(){return{minCurPageIndex:this.minCurPageIndex,maxCurPageIndex:this.maxCurPageIndex,type:this.type,dateRange:this.dateRange}},totalPage:function(){return this.publicationsTotal>this.itemsOnFirstPage?Math.ceil((this.publicationsTotal-this.itemsOnFirstPage)/this.itemsOnPage)+1:1},contentClass:function(){return{"news__content-first-page":this.isFirstPage,"news__content-not-first-page":!this.isFirstPage}}}),watch:{totalPage:function(t){this.$emit("o-news-list-total-page-change",t)},updateItemsRelations:function(t,e){var i,n,s,a,o=this,u=null==e||null===(i=e.dateRange)||void 0===i?void 0:i.from,c=null==e||null===(n=e.dateRange)||void 0===n?void 0:n.to,l=null==t||null===(s=t.dateRange)||void 0===s?void 0:s.from,p=null==t||null===(a=t.dateRange)||void 0===a?void 0:a.to,m=t.type!==e.type&&t.type!==this.publicationsType,f=l!==u&&l!==this.publicationsDateRange.dateFrom,d=p!==c&&l!==this.publicationsDateRange.dateTo;m?this.$store.commit("RESET_PUBLICATIONS"):m||!f&&!d||this.$store.commit("RESET_PUBLICATIONS_CONTENT");var h=m||f||d,g=this.calcItemsNumberForQuery(h);g>0&&this.$store.dispatch("GET_PUBLICATIONS",{limit:g,offset:this.minCurPageEmptyIndex,type:r.a.publicationsListAvailableTypes.find((function(t){return t===o.type.toUpperCase()})),dateFrom:this.dateRange?this.dateRange.from:null,dateTo:this.dateRange?this.dateRange.to:null,addresses:this.userCity.id||null})}},mounted:function(){this.$emit("o-news-list-total-page-change",this.totalPage)},methods:{calcItemsNumberForQuery:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!t&&null!==this.publicationsTotal&&this.maxCurPageEmptyIndex>this.publicationsTotal-1?this.publicationsTotal-this.minCurPageEmptyIndex:this.minCurPageEmptyIndex>=0&&this.maxCurPageEmptyIndex>=0?this.maxCurPageEmptyIndex-this.minCurPageEmptyIndex+1:0}}},j=(i(2738),Object(w.a)(E,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"content container news__content",class:t.contentClass},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},t._l(t.items,(function(i,n){return e("o-news-item",{key:i.id,attrs:{item:i,"is-big":-1!==t.bigItemsIndexes.indexOf(n)}})})),1)])])])}),[],!1,null,"1fc80e0b",null));e.a=j.exports},2019:function(t,e,i){},2020:function(t,e,i){},2021:function(t,e,i){},2735:function(t,e){t.exports={MAIN_PUBLICATIONS:"main_publications",NEWS_PUBLICATIONS:"news_publications"}},2736:function(t,e,i){"use strict";i(2019)},2737:function(t,e,i){"use strict";i(2020)},2738:function(t,e,i){"use strict";i(2021)}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1485:function(t,e,n){},1486:function(t,e,n){},1760:function(t,e,n){"use strict";n(1485)},1761:function(t,e,n){"use strict";n(1486)},1988:function(t,e,n){"use strict";var r=n(3),i=n(189),o=n.n(i),s=n(166),c=n.n(s);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(){return n.e(87).then(n.bind(null,3493))},b=function(){return n.e(88).then(n.bind(null,3494))},m=function(){return n.e(86).then(n.bind(null,3495))},d=function(){return n.e(96).then(n.bind(null,3496))},y=function(){return n.e(107).then(n.bind(null,3497))},v=function(){return n.e(133).then(n.bind(null,3498))},h={name:"o-catalog-tile",props:{tile:{type:Object,required:!0},tileNumber:{type:Number,default:1},propBanners:{type:Object,default:function(){return{}}},productClickEvents:{type:Array,default:function(){return[]}}},computed:u(u({},Object(r.c)({storeBanners:"v3/banners"})),{},{component:function(){if(this.tile.type===o.a.PRODUCT_TILE)switch(this.tile.displayType){case c.a.LOOKBOOK:return p;case c.a.ALTCOLOR:return d;case c.a.KIT:return m;default:return b}else if(this.tile.type===o.a.BANNER_TILE){var t;return"empty"!==this.tile.slot&&null!==(t=this.banners[this.tile.slot])&&void 0!==t&&t[0]?y:v}return b},size:function(){return this.tile.size},banners:function(){var t;return null!==(t=this.propBanners)&&void 0!==t&&t[this.tile.slot]?this.propBanners:this.storeBanners}}),render:function(t){var e=this,n=t(this.component,{props:{tile:this.tile,tileNumber:this.tileNumber,banners:this.banners,productClickEvents:this.productClickEvents},on:{"tile-viewed":function(){e.$emit("tile-viewed")}}});return t("div",{class:"o-catalog-tile o-catalog-tile--".concat(this.size)},[n])}},O=(n(1760),n(1761),n(2)),g=Object(O.a)(h,void 0,void 0,!1,null,"66fd764f",null);e.a=g.exports},2527:function(t,e,n){},2528:function(t,e,n){},2529:function(t,e,n){},3254:function(t,e,n){"use strict";n(2527)},3255:function(t,e,n){"use strict";n(2528)},3256:function(t,e,n){"use strict";n(2529)},3459:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(62),o=n.n(i),s=n(1988),c=n(189),l=n.n(c),a=n(318),u=n.n(a),f={name:"catalog-fragment",components:{oCatalogTile:s.a},props:{catalogRows:{type:Array,required:!0},catalogPattern:{type:String,default:u.a.MAIN_PATTERN,validator:function(t){return Object.values(u.a).includes(t)}},banners:{type:Object,default:function(){return{}}},productClickEvents:{type:Array,default:function(){return[]}}},computed:{isDefaultPattern:function(){return this.catalogPattern===u.a.DEFAULT_PATTERN},catalogDisplay:function(){var t=this;return this.catalogRows.map((function(e){return"small"!==e.size&&(e.items=e.items.filter((function(e){return e.type!==l.a.BANNER_TILE&&"empty"!==e.slot||t.banners[e.slot]}))),e})).filter((function(t){return t.items.length}))}},methods:{getRowClasses:function(t){var e=t.size;return["o-catalog-fragment__row--".concat(e),this.isDefaultPattern&&"o-catalog-fragment__row--default"]}}},p=(n(3254),n(3255),n(2)),b=Object(p.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"o-catalog-fragment__container"},[t.catalogDisplay.length?t._l(t.catalogDisplay,(function(n,r){return e("div",{key:"".concat(n.size).concat(r),staticClass:"o-catalog-fragment__row",class:t.getRowClasses(n)},t._l(n.items,(function(n,i){return e("o-catalog-tile",{key:"".concat(n.product&&n.product.productId||n.slot).concat(i,"-tile-r").concat(r,"c").concat(i),attrs:{id:"tile-r".concat(r,"c").concat(i),tile:n,"product-click-events":t.productClickEvents,"prop-banners":t.banners,"tile-number":i+1}})})),1)})):t._e()],2)}),[],!1,null,null,null).exports,m=n(52),d=n(1),y=n(0),v=n.n(y),h=n(36),O=n.n(h);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N={name:"WelcomeSlotForYou",components:{CatalogFragment:b},mixins:[m.a],props:{item:{type:Object,required:!0},useCache:{type:Boolean,default:!1}},data:function(){return{tiles:[],banners:{},initScrollY:0,debouncedVisibilityHandler:o()(this.visibilityHandler,100)}},computed:{productClickEvents:function(){return[{eventType:v.a.PRODUCT_CLICK,componentSource:O.a.FOR_YOU_MAIN_PAGE},{eventType:v.a.COMMON_RECOMMENDATION_CLICK,slotName:this.item.type,componentSource:O.a.FOR_YOU_MAIN_PAGE}]},title:function(){return this.item.title},style:function(){return{backgroundColor:this.item.backgroundColor||"#ffffff",color:this.item.textColor||"#111111"}},count:function(){return this.item.count}},mounted:function(){var t=this;if(this.useCache){var e=JSON.parse(sessionStorage.getItem("PATTERN_MAIN_RECOMMENDATION")),n=e.banners,r=e.tiles;return this.banners=n||{},void(this.tiles=r||[])}this.initScrollY=window.scrollY,window.addEventListener("scroll",this.handleScrollEvent),window.addEventListener("scroll",this.debouncedVisibilityHandler),this.$once(this.inViewEvents.IN_VIEW,(function(){t.tiles.length||(t.removeScrollEventListener(),t.getRecommendations())}))},beforeDestroy:function(){this.removeScrollEventListener(),this.removeVisibilityListener()},methods:w(w({},Object(r.b)("v3",[d.a.GET_RECOMMENDATIONS_PATTERN,d.a.EMIT_PAGE_EVENT])),{},{visibilityHandler:function(){var t=this.$el.getBoundingClientRect();Math.min(t.bottom,window.innerHeight)-Math.max(t.top,0)>=.6*window.innerHeight&&this.tiles.length&&(this.sendInViewEvent(),this.removeVisibilityListener())},sendInViewEvent:function(){this[d.a.EMIT_PAGE_EVENT]({type:v.a.COMMON_RECOMMENDATION_VIEW,payload:{type:this.item.type}})},removeScrollEventListener:function(){window.removeEventListener("scroll",this.handleScrollEvent)},removeVisibilityListener:function(){window.removeEventListener("scroll",this.debouncedVisibilityHandler)},handleScrollEvent:function(){window.scrollY>this.initScrollY&&(this.getRecommendations(),this.removeScrollEventListener())},getRecommendations:function(){var t=this;this[d.a.GET_RECOMMENDATIONS_PATTERN]({slots:["PATTERN_MAIN_RECOMMENDATION"],productCount:this.count}).then((function(e){var n=e.tiles,r=e.banners;t.tiles=n||[],t.banners=r||{},sessionStorage.setItem("PATTERN_MAIN_RECOMMENDATION",JSON.stringify(e))}))}})},C=(n(3256),Object(p.a)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"welcome-slot-for-you"},[t.tiles.length?e("div",{staticClass:"welcome-slot-for-you__container",class:{"welcome-slot-for-you__container--no-title":!t.title},style:t.style},[t.title?e("div",{staticClass:"welcome-slot-for-you__title"},[t._v("\n      "+t._s(t.title)+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"welcome-slot-for-you__recommendations"},[e("CatalogFragment",{attrs:{"product-click-events":t.productClickEvents,"catalog-rows":t.tiles,banners:t.banners}})],1)]):t._e()])}),[],!1,null,null,null));e.default=C.exports}}]);